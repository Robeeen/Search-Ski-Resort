(()=>{"use strict";var e,o={608:(e,o,t)=>{const r=window.wp.blocks,n=window.wp.i18n,s=window.wp.blockEditor,l=window.wp.components,a=window.React,i=window.wp.apiFetch;var c=t.n(i);const h=window.ReactJSXRuntime,d=JSON.parse('{"UU":"create-block/search-final"}');(0,r.registerBlockType)(d.UU,{edit:function({attributes:e,setAttributes:o}){const{showResortFind:t,resortFind:r,selectedOption:i,showAddr:d,showPhone:g,showLift:p,showTemp:u,imgUrl:w,name:f}=e,[m,b]=(0,a.useState)(!1),[x,v]=(0,a.useState)([]),[j,C]=(0,a.useState)("");(0,a.useEffect)((()=>{j.length>=2&&c()({path:`/fnugg/v1/autocomplete?q=${j}`}).then((e=>{console.log("Api Response on search",e.result);const o=Array.isArray(e.result)?e.result.map((e=>({value:e.name,label:e.name}))):[];console.log("Formattted Option:",o),v(o)})).catch((()=>{v([])}))}),[j]),(0,a.useEffect)((()=>{j.length>=2&&c()({path:`/fnugg/v1/search?q=${j}`}).then((e=>{o({imgUrl:e.images.images})})).catch((()=>{console.error("Error fetching image URL:",error)}))}),[j]);const[O,S]=(0,a.useState)([]);return(0,a.useEffect)((()=>{r&&r.length>0&&(b(!0),c()({path:`/fnugg/v1/search?q=${r}`}).then((e=>{JSON.stringify(S(e)),b(!1)})).catch((()=>{b(!1)})))}),[r]),(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("p",{...(0,s.useBlockProps)(),children:[(0,h.jsx)(s.InspectorControls,{children:(0,h.jsxs)(l.PanelBody,{title:"Enable to Display",children:[(0,h.jsx)(l.ToggleControl,{checked:!!d,label:(0,n.__)("Show Address"),onChange:()=>o({showAddr:!d})}),(0,h.jsx)(l.ToggleControl,{checked:!!g,label:(0,n.__)("Show Phone"),onChange:()=>o({showPhone:!g})}),(0,h.jsx)(l.ToggleControl,{checked:!!p,label:(0,n.__)("Show Lift count"),onChange:()=>o({showLift:!p})}),(0,h.jsx)(l.ToggleControl,{checked:!!u,label:(0,n.__)("Show Temparature"),onChange:()=>o({showTemp:!u})}),(0,h.jsx)(l.ToggleControl,{checked:!!t,label:(0,n.__)("Show Search Field"),onChange:()=>o({showResortFind:!t})}),t&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(l.TextControl,{label:(0,n.__)("Search Ski Resort"),value:r,onChange:e=>o({resortFind:e})}),(0,h.jsx)(l.PanelRow,{children:(0,h.jsx)("div",{style:{height:"auto",width:"100%",backgroundColor:"#c2c2c2",padding:"5px"},children:O?(0,h.jsxs)("p",{children:["Name: ",O.name,(0,h.jsx)("br",{}),"Description: ",O.description,(0,h.jsx)("br",{}),"Lift Open: ",JSON.stringify(O.lifts)," ",(0,h.jsx)("br",{}),"ID: ",O._id," ",(0,h.jsx)("br",{}),"Type: ",O._type]}):""})})]})]})}),(0,h.jsx)(l.ComboboxControl,{label:"Type here to autocomplete Ski-Resort:",value:i,options:x,onChange:e=>{console.log("Selected Option:",e),o({selectedOption:e})},onFilterValueChange:e=>{C(e)}}),(0,h.jsx)("div",{className:"image_box",children:w?(0,h.jsx)("img",{src:w,alt:"Type and image will load...",width:326,height:326}):(0,h.jsx)(s.MediaPlaceholder,{onSelect:e=>o({imgUrl:e.url}),allowedTypes:["image"]})})]})})}})}},t={};function r(e){var n=t[e];if(void 0!==n)return n.exports;var s=t[e]={exports:{}};return o[e](s,s.exports,r),s.exports}r.m=o,e=[],r.O=(o,t,n,s)=>{if(!t){var l=1/0;for(h=0;h<e.length;h++){t=e[h][0],n=e[h][1],s=e[h][2];for(var a=!0,i=0;i<t.length;i++)(!1&s||l>=s)&&Object.keys(r.O).every((e=>r.O[e](t[i])))?t.splice(i--,1):(a=!1,s<l&&(l=s));if(a){e.splice(h--,1);var c=n();void 0!==c&&(o=c)}}return o}s=s||0;for(var h=e.length;h>0&&e[h-1][2]>s;h--)e[h]=e[h-1];e[h]=[t,n,s]},r.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return r.d(o,{a:o}),o},r.d=(e,o)=>{for(var t in o)r.o(o,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})},r.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={57:0,350:0};r.O.j=o=>0===e[o];var o=(o,t)=>{var n,s,l=t[0],a=t[1],i=t[2],c=0;if(l.some((o=>0!==e[o]))){for(n in a)r.o(a,n)&&(r.m[n]=a[n]);if(i)var h=i(r)}for(o&&o(t);c<l.length;c++)s=l[c],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(h)},t=self.webpackChunksearch_final=self.webpackChunksearch_final||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))})();var n=r.O(void 0,[350],(()=>r(608)));n=r.O(n)})();